<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>äººåæŠ½çç³»çµ±</title>
  <style>
    body {
      font-family: "Microsoft JhengHei", sans-serif;
      background: #f9fbff;
      text-align: center;
      padding: 20px;
    }

    h1 {
      color: #333;
    }

    select, button {
      font-size: 1.1em;
      padding: 10px;
      margin: 5px;
    }

    .spinner {
      margin: 20px auto;
      width: 50px;
      height: 50px;
      border: 5px solid #ccc;
      border-top: 5px solid #4CAF50;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      display: none;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .result, .history, .remaining {
      margin-top: 20px;
      padding: 15px;
      border: 1px solid #ddd;
      border-radius: 8px;
      background: #fff;
      width: 90%;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
      text-align: left;
    }

    .highlight {
      font-weight: bold;
      font-size: 1.5em;
      color: #d32f2f;
      animation: fadeIn 1s;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.8); }
      to { opacity: 1; transform: scale(1); }
    }
  </style>
</head>
<body>

  <h1>ğŸ‰ äººåæŠ½çç³»çµ± ğŸ‰</h1>

  <div>
    æ¯æ¬¡æŠ½å¹¾å€‹äººï¼š
    <select id="drawCount">
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
      <option value="6">6</option>
      <option value="7">7</option>
      <option value="8">8</option>
      <option value="9">9</option>
      <option value="10">10</option>
    </select>
    <button onclick="draw()">æŠ½ç</button>
    <button onclick="resetDraw()">é‡è¨­</button>
  </div>

  <div class="spinner" id="spinner"></div>

  <div class="result" id="currentResult"></div>
  <div class="history" id="historyLog"></div>
  <div class="remaining" id="remainingList"></div>

  <script>
    const allNames = [
      "6A01 é™³éˆºç›ˆ","6A02 é„­ä¼Šç‡","6A06 å­”è—é ¤","6A08 æ—å®›æ—»","6A09 æç©æ–¯","6A12 ä¼å€©è‘¶",
      "6A14 ç‹å­æ€¡","6A15 é»ƒç­ ç„¶","6A16 ç‹å¬¿å©·","6A17 èƒ¡ç¾éŒ¡","6A18 ä¸˜æ›‰æ™´","6A19 æ¥Šæ¢“å¯§",
      "6A21 é»ƒä»²å‡","6A22 ç”˜å­ç„","6A23 æ—æœ—ç¿¹","6A24 é»å‹æ¿¤","6A25 ææŸæ©‹","6A26 å»–åŸé‘«",
      "6A27 å³ç‡æ—","6A28 æ½˜ä¿¡éŠ˜","6A29 è¬å‰çƒ½","6A30 é»ƒæŸç„¶","6A31 æ¥Šæ™¯çƒ½","6A32 å§šæµ©ç„¶",
      "6M01 å€é›ªç³","6M02 é„­æ™ç³","6M03 å¼µæ¬£æ¨º","6M04 è”¡æ€ç¿","6M05 é»ƒé–å–¬","6M06 é»ƒå©‰å€©",
      "6M10 æ¢ç´«æ©","6M11 é¦¬æƒ æ´µ","6M12 éº¥é‡‘å¯¶","6M13 æ½˜æ¢“æ™´","6M14 é¦¬ç¨€æ·‹","6M17 ç‹çˆ¾æ´›ç‘ªçµ²",
      "6M18 å§šç†™æ‚…","6M19 è‘‰ç¥–å²","6M25 é»å±•é³´","6M26 æ—æµ©å¨","6M28 éº¥å¹³é—œ","6M29 å³éˆæ¾¤",
      "6M30 å³å»·é©","6M32 æ˜“å®¶ç¥º","6R01 æ­æµ·ç‘¤","6R02 é™³æ›‰æ½¼","6R03 å¼µéˆå½¥","6R04 é¾è‘†èŒ¹",
      "6R05 å¤å˜‰æ…§","6R06 é»ƒéŒ¦æ¶“","6R07 æ¢æ¡‚å©·","6R08 é˜®æ…§æ·‡","6R09 å†¼æ¨‚èŒµ","6R11 é»ƒæ¥šç‘œ",
      "6R12 é»ƒæ£®æ¦†","6R15 åŠ‰æ›‰é‹’","6R17 è­šæŒ¯è¯","6R18 æº«ä¿Šæ³°","6R19 é»ƒç„¯è³¢","6R20 é»ƒä¿Šæ–‡",
      "6R21 é»ƒæœ—ç„¶","6R22 èƒ¡æ˜å‡±","6Y02 é»ƒå˜‰çª","6Y03 è³´ç©æ¡","6Y04 æ¢ç©ç³","6Y08 å³å€©å„€",
      "6Y09 èè˜Š","6Y10 æˆ´èˆ’è²","6Y11 é™³é€²æ®·","6Y13 é¦®ç”¯é›‹","6Y16 éº¥ç¿è¬™","6Y17 å³å®‡è»’",
      "6Y19 é»ƒé®èª ","6Y20 ä½™éŒ¦æ¬Š","6Y21 ä½™ä¸–è±ª"
    ];

    let remaining = [...allNames];
    let history = [];
    const spinner = document.getElementById("spinner");
    const resultEl = document.getElementById("currentResult");
    const historyEl = document.getElementById("historyLog");
    const remainingEl = document.getElementById("remainingList");

    function draw() {
      const count = parseInt(document.getElementById("drawCount").value);
      if (remaining.length < count) {
        alert("å‰©é¤˜äººæ•¸ä¸è¶³ï¼Œè«‹é‡è¨­æŠ½çï¼");
        return;
      }

      // å‹•ç•«é–‹å§‹
      spinner.style.display = "block";
      resultEl.innerHTML = "";
      setTimeout(() => {
        const drawn = [];
        for (let i = 0; i < count; i++) {
          const index = Math.floor(Math.random() * remaining.length);
          drawn.push(remaining.splice(index, 1)[0]);
        }

        // é¡¯ç¤ºçµæœ
        resultEl.innerHTML = `<div class="highlight">ğŸ¯ æŠ½ä¸­ï¼š${drawn.join("ã€")}</div>`;
        history.push(drawn);
        updateHistory();
        updateRemaining();
        spinner.style.display = "none";
      }, 1000);
    }

    function updateHistory() {
      historyEl.innerHTML = "<h3>ğŸ“œ æ­·å²æŠ½å‡ºè¨˜éŒ„</h3>";
      history.forEach((group, index) => {
        historyEl.innerHTML += `<div>ç¬¬ ${index + 1} æ¬¡ï¼š${group.join("ã€")}</div>`;
      });
    }

    function updateRemaining() {
      remainingEl.innerHTML = `<h3>ğŸ§‘â€ğŸ“ å‰©é¤˜æœªæŠ½äººå (${remaining.length} ä½)</h3>`;
      remainingEl.innerHTML += `<div>${remaining.join("ã€")}</div>`;
    }

    function resetDraw() {
      if (confirm("ç¢ºå®šè¦é‡è¨­æ‰€æœ‰æŠ½çè¨˜éŒ„ï¼Ÿ")) {
        remaining = [...allNames];
        history = [];
        resultEl.innerHTML = "";
        historyEl.innerHTML = "";
        updateRemaining();
      }
    }

    // åˆå§‹è¼‰å…¥
    updateRemaining();
  </script>

</body>
</html>
